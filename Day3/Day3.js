var theMap = 
["......##....#...#..#.#....#....",
 ".......#...#..#..#....##.......",
"#.#...#........###.#.##..#.....",
".......#.....##.#..##...##.##..",
".#...#.#...##..........#..#....",
"#.......##.....###.#...#......#",
".........#....#.#.......#..#...",
"..#.......####.......###..##...",
".#.#.##..#.#...##..#...###...##",
"...................#...........",
"....#.#.......#..........#.#..#",
"..#.#...........####.#.......#.",
".....#.##..#..##..#.#...#......",
"#.##...###..#................##",
"...#...#...#..##.#............#",
"#.##....##....#........#..#....",
"..#......#.#.....##.......#....",
".......#......#....#......#....",
".#........##.....#.#...#...#.#.",
"..........##.#...#..#..........",
"#####..##......#.....#......#.#",
"......#...............##...#...",
"..#.#.##..#...#.#........#...#.",
"..........#......#..........###",
"..#...##.##..##..........#.....",
"........#.##.#.....#..#...#....",
"#.....#.........#..............",
"..........##.##....#..#..#.....",
"..#...........#.......#........",
"........#..#.....#.#.#...#.....",
"#.......##.....#.....#...#.##..",
"###.#.#....#..#.....#........#.",
"..#..#..#..........#....#....#.",
"..#...##...#.#.##.....#..#.....",
"...#....###...........##.#.....",
".##.................##.#.......",
"........#...#.##..#...#........",
".##..#............##..........#",
"............###.#....#..#......",
".....##....#.....#......#.....#",
"....#.....#.##.......#...#.#...",
".##.#......#.........#...##....",
"..##......#......#...........#.",
".......#.#.............#.......",
".##.#...#..##....##.......#....",
"...#......##.#.#......#.....###",
"#.#....#.......#.#......#....#.",
"#......#.#.....#...........#..#",
"##.#..##...#........#.##.#....#",
".....#........#........#...#...",
"...............#.......#..#....",
".#.#.#..#.#...#.......#.....##.",
".#.#.............#..#....#.....",
"....#.......#..##.........###..",
".#.....#.#....#..#..#....#.....",
"........#......#.....#.#....#..",
"##......#....##.....#.#..#.#...",
".#...#..#.##.#.##.##.....#.....",
"#...#....#.........##.#....#...",
".........##..#.....#..#...#.#..",
".#............#..........#.#...",
"...........#.....#......#.#....",
"#...#...#.....#..#....#........",
"#..##.....#..#.......#....#...#",
"#..#..#..........#......#...#..",
"...#...#.#.##.#...#....#...##..",
"......##....##....#....##..####",
"...###.#..#....#.......#.......",
"#.........##......#...#........",
"..........#....#.......#.......",
"#....##................##....##",
".........#....#.#.......##.#...",
".....#......###.......#..#...##",
"###.....#..##....###...........",
".....#...#....#.....##......###",
".#..#...#......##........##..#.",
"#.#.#.#....#.............#.....",
"......#.....##.#....#..##...#..",
"..#............#.#....#..#...#.",
".............#.#...##.......#..",
"...#....#.##.#...#.#..##...###.",
"...#..............#.......#....",
"......###.#............#.....#.",
".##...###..#.####...#..........",
"...#..#...#.#.#..#......#..#...",
".#....##.###....#........#.....",
"..#..#....#.........##.........",
"..........##.###........#.#...#",
".........#...#..#........#.....",
".......#.....#...###...........",
".....#.#..##......#...#...#....",
".....#....#..#........##.#..#..",
"...#...........#............#..",
"##.....#....#.#...#...#....##..",
"...#.....#.....#...##...#...#..",
"...##.#..........##...#.#.##.#.",
"....#.#.##.......#.#...#......#",
"......###...#....#.##........#.",
".....#.........#...#...#..#..##",
".........#................#....",
".##..###..................#.#.#",
".##...........#...........#....",
"#...#........#.....#..#...##...",
".....#..#...#.........#.......#",
"..#..............#......#......",
"#....#...............#.#.......",
"...#........#.#....#..#.###.##.",
".......#..##..#...#..#...###...",
"..........##..#.......##.##....",
"##.#..#.#...##..........#......",
".#.##.#...##.....#....#....#.##",
"...#.#......#...#.##..##.......",
"##.......#.#......#....##..#.#.",
"...#..#.##.........#...#.....#.",
".##.##..##...#........#..#.....",
".#.##.............#.#.#.....#..",
".......#.....................#.",
"......#...#....#..#..........#.",
"..#..#....#.#................#.",
"..#.....#..#.#......#......###.",
"...#...##..##....#..#...###.#..",
"...#.....#............##......#",
".......#.#.#......#.....###....",
".....#......#.....#.........#.#",
"#...#.#...#..#...#..#....#.....",
"#..##...#..##.............#..#.",
"##....##.......#.#.......#..#.#",
"..............#...#..#......#..",
"..#...#...#.#...#.#............",
"#..........#...#.............#.",
"..........##......#........#...",
"#...#...#....#.#...........#...",
"..#.#.#...##......#.#...#.#..#.",
".......#.......#.............#.",
".#..........#..................",
"..##...#......#..........#....#",
".#..##..........#...#..........",
"...#....#..#.#.....##..##.#..#.",
"...#...#...#..#....##..#....#..",
"..............#.#.....#......##",
"..............####....#.#..#...",
".#........##....#...#.#...#..#.",
".#..##.###....#.#.....##..#....",
"...###.#.........#..#..#.##.#..",
".....#..#.....#..#...##......##",
".#.#.##.............#...##.....",
"....##........#........#.......",
".......#.....###..............#",
"#.##.......##....#.#.....#.#...",
"........#....#............#..##",
"...#.#..#.......#..........#...",
"..##....#..##......###.#.....#.",
".#..#.#.##....#.......#........",
"........#.####.#.......#.##....",
"..........##...............#...",
".#..#.....#....##..#..##...#..#",
"....#.#.....#.#.........#####..",
"...#.##....#...###.##.#..#.....",
".#...........#.............##.#",
"..#....#....####.....#.#....#..",
"......##.......#....#..#.......",
".####...##.#.#..#.####.#.#.....",
"###.........#..#.#.#.#........#",
"...#...#..#.............#.##...",
".........#....#......#.....#.#.",
"...#....#......#..#......#....#",
"..#...#..........##..##........",
".....##........#......#.....#..",
"...#....#....#....#..#....#....",
"##...#...........##............",
".......#..##..#.......##.#.....",
"...............#.##.....#......",
"#.#....##.#.....#...#..........",
"........#......#...#......#.#.#",
"..#..#.....#.#........#........",
"..####.....##.#.##.......#.#.#.",
".#.##.#.......##......#.....#..",
"....#.....##.........#.....#...",
".#.#...###.#.#..........#....#.",
".........##.#.#.....#..#.......",
"......#..#...#..#..###.#.#.....",
".....#...#.#..#.#.......#.#...#",
"......##........#..#...#......#",
"#..##...#...#..#.....#..#..#..#",
"......#....#...........#.#.....",
"...#.......#...............#...",
"#.........#......#.............",
"..###..................#......#",
"#.....#.#.#.......##....#......",
".........#...........#....#.#..",
".###....##.##..##.............#",
".##.#......#...#...##..........",
"....#........###......#.#......",
"...........#..#.##.#...........",
".#..#.......#......#.#####.....",
"....##....##......#....#...#...",
".......#..#.....#.#...###...#.#",
"..##.....#.......#.#.#..#.....#",
".#...#............#....##...#..",
".#..#...##.......#.............",
"..##.......#...........#.#....#",
"...#.#...#....#..#.....#.......",
"...#........#...##...#.#..#.#..",
"#........#..........#..........",
"......#......#.........#.......",
"...##...#.....#.......#...#.##.",
"......##..##......#..###..#....",
"....##....#..###.#.....##......",
"##.##..#.....#..#..............",
"..#.#..#....#....#....#.#...#.#",
".#.....##.#.##.#..#.#..........",
"...#......##.#...##..##...#....",
".###.....#......#.......#.....#",
"....##.......#.....#..#....#...",
"..........#..##....#..##.#....#",
"...#....#..##.#........#.#.#...",
"...#.#...#....#.......#..##.#.#",
"#..#..........#.#...#....#.....",
"#..#...........................",
"........#.....#.....#.#...#.#..",
"#...#..#...#..........###...#.#",
".....##.#..##.#.#.#.##....#....",
"#.......#....#.#..#..#..#.#....",
"..###.#.......#.#.##...........",
"#....#..#..........#.##..#.#...",
"..#..#........##....#..##......",
"#...##..#.........#.#....#.#...",
"##..###..##...#.........#.#...#",
"###..#....#..##...#.#..#.#.....",
".#.##.#......#............#....",
".#...#.##.#.........##.........",
"##.....###.....#........#..#...",
"...........##.#................",
".#......###......#....#..####..",
"#...##.....#.....#..##....#.#..",
"..#....#.......#.#.#......#...#",
"#.....#........#....#.#...#....",
"..##...............#....#..###.",
".#....#.......#..#...#.........",
".##.#..#..#...#..#..#....#....#",
".......#.#....#.....##...#.....",
".#....#.#.#...........#........",
".........#..##..#..#...#.......",
"##..##...#......#.....#........",
"#...........#.....#..###......#",
".#...........#....#...#...##.#.",
"..............##.###.#.#####.##",
"........#.#...#.............##.",
"#...................###..#.##..",
"#.....#...##...................",
".....##..........#..#.#........",
".#....##.#....#....###....#...#",
".......#.#...........#.#.....#.",
"......#........###...#...##....",
".##..........#..#..#...........",
"....#.......#..#.....##.#..#...",
"..#.##......#..#.....#..#......",
"......#...#..##....#.#..#..#.#.",
"#.........................#...#",
"###.#.......#......##....#..#..",
"..##.###.#...#.............#...",
".....#...#...#......#....#####.",
"#..........#.#.##.#.#.....#..#.",
"....#.........#...#.#.........#",
"#.##.........#...#...#.####..##",
".##.................#..........",
"##.....#............#..#.#.....",
"#.#...#.#........#........#...#",
".#...........#....#..#.......#.",
".#.......#..........##..#.##..#",
".#..##....#..##......#.#..##...",
"#......#............#.......#.#",
".##...............#...#...#....",
".......##.#..#..##.....#.......",
"...#.......#..###.....#....#...",
"......#............#...........",
"####............#.........#.##.",
"#......#.#..#...#.....#..#.....",
"...........#...#..##.......####",
"#.#...##..#....#.#.........#.#.",
"...#....#..#.......#.........#.",
".........#.#.#...#....#........",
".#.....#........#..#.........#.",
"....#....#..#.....#...#........",
"..#....#.#.....#..##...........",
".#...#..#..#.##.###....#.......",
"#......##.......##..##.........",
"...#.........#.......##.#......",
".#...#...#.......#........##...",
"..#.............#.......#.....#",
"..#...........#.#.#...#.......#",
".....##..#....#..............#.",
"#.#.....#.#....................",
".....#..##..#...#.....#........",
"..#.......#..####..#....#.##.#.",
"#....#.....#.....#...#......#..",
"..#....##...#....#..#..#.....#.",
"..#.####..............##.......",
".#.........#..#...#.......##...",
"#....#.#........#....#...#...##",
".....#..#....#.#..#...#.#.##...",
".##.................#...##.....",
".##.##.##...#...........#...##.",
"..#....#..#.....#..#......##...",
".#...........#......#....#..#.#",
".#.#............#..#..#...#....",
"....#......#.....#.#.#.....#...",
"#.......##.............#.......",
"....#....................#.#...",
"......#........#..#.#.....#.#..",
".....#..#....#.#........#....#.",
"...##.........#...#.##....#..#.",
".#....#..#...#.#.#......#......",
"#......#.#.##.#..#..#.....##...",
"......#....#.#...#..#.#........",
"..#.....##.....#...#.#.......#.",
"......#.#.....#........#.......",
"......#.#.#...#..#.#.#.#.......",
"..#.#.##..#..#..#.#.##...#.....",
"......#.#.#......#.....#...#...",
".....#.##....#..##...#...#....#",
"..#.....#...........#..#..##...",
"..#..#.......#....#....###.#..."];

var rowSize = theMap[0].length
var numRows = theMap.length

var routes = [[1,1],[3,1],[5,1],[7,1],[1,2]]

routes.map((route) => {
   var right = route[0]
   var down = route[1]
      var start = 0
      var row = 0
      return theMap.filter((elem, idx) => {
         return ((idx > 0) && ((idx % down) === 0))
      }).map((elem,idx, arr) => {
         start += right; 
         col = start % rowSize; 
         row = idx;
         if (row < arr.length) { 
            rowArr = arr[row].split("")
            hitTest = rowArr[col] === "." ? "O" : "X"
            rowArr[col] = hitTest
            return [rowArr.join(""),hitTest]
         }
      }).filter((elem) => {
      return elem[1] === "X"
      }).length
}).reduce((acc, val) => {
  return acc * val
}, 1)